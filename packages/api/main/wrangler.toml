name = "applymonitor-api"
compatibility_date = "2024-01-01"
account_id = "dd9a9f25900c93ac23898bbaf306ff76"
main = "build/index.js"

[[d1_databases]]
binding = "DB"
database_name = "applymonitor-db"
database_id = "9ce90777-7471-4cc4-be00-5084bfa259c3"

migrations_dir = "../migrations"

[build]
command = "worker-build"

[env.local]
account_id = "dd9a9f25900c93ac23898bbaf306ff76"
[[env.local.d1_databases]]
binding = "DB"
database_name = "applymonitor-garun-local"
database_id = "1601b5d7-742e-4d82-89a8-0b0791c2247f"

[env.local.vars]
JWT_ISSUER = "https://api.applymonitor.com"
SESSION_COOKIE_NAME = "session"
FRONTEND_URL = "https://applymonitor.com"

[env.production]
account_id = "dd9a9f25900c93ac23898bbaf306ff76"
workers_dev = false
preview_urls = false
[[env.production.d1_databases]]
binding = "DB"
database_name = "applymonitor-db"
database_id = "9ce90777-7471-4cc4-be00-5084bfa259c3"

[[env.production.routes]]
pattern = "api.applymonitor.com/*"
zone_name = "applymonitor.com"

[vars]
JWT_ISSUER = "https://api.applymonitor.com"
SESSION_COOKIE_NAME = "session"
FRONTEND_URL = "https://applymonitor.com"

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true

