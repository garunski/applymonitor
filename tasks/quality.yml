version: '3'

tasks:
  format:
    desc: Format all Rust code in the workspace
    cmds:
      - cargo fmt --all

  quality:
    desc: Run all cargo quality checks (format, clippy, test, check) treating warnings as errors
    deps: [format]
    cmds:
      - |
        echo "ğŸ” Checking code formatting..."
        cargo fmt --all -- --check
      - |
        echo "ğŸ” Running clippy (treating warnings as errors)..."
        cargo clippy --workspace -- -D warnings
      - |
        echo "ğŸ” Running tests..."
        cargo test --workspace
      - |
        echo "ğŸ” Checking compilation..."
        cargo check --workspace
      - echo "âœ… All quality checks passed!"
